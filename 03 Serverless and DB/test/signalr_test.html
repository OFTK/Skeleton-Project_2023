<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Signalr Client</title>
    </head>
    
    <body>
        <h1>Azure SignalR Serverless Sample</h1>
        <div id="messages"></div>
        <div id="alerts"></div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.1/signalr.js"></script>
        <script>
            let messages = document.querySelector('#messages');
            let alerts = document.querySelector('#alerts');
            const apiBaseUrl = "http://localhost:7071";
            // const apiBaseUrl = "https://skeletonfunctionapp.azurewebsites.net";
            const connection = new signalR.HubConnectionBuilder()
                .withUrl(apiBaseUrl + '/api')
                .configureLogging(signalR.LogLevel.Information)
                .build();
            connection.on('newMessage', (message) => {
                document.getElementById("messages").innerHTML = message;
            });
            connection.on('babyalert', (message) => {
                document.getElementById("alerts").innerHTML = message;
            });

            connection.start()
                .catch(console.error);
        </script>
    </body>

</html>